<!DOCTYPE HTML>
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Stog : Predefined modules and functions</title>
<link href="https://zoggy.github.io/stog/style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="page">
<div class="navbar navbar-fixed-top">
<div class="navbar-inner">
<div class="container">


  <div class="nav-collapse">
    <ul class="nav">
    <li class="&lt;navbar-home/&gt;"><a href="https://zoggy.github.io/stog/index.html">Stog</a></li>
    <li class="&lt;navbar-install/&gt;"><a href="https://zoggy.github.io/stog/install.html">Installation</a></li>
    <li class="active"><a href="https://zoggy.github.io/stog/doc.html">Documentation</a></li>
    <li class="&lt;navbar-plugins/&gt;"><a href="https://zoggy.github.io/stog/plugins.html">Plugins</a></li>
    <li class="&lt;navbar-blog/&gt;"><a href="https://zoggy.github.io/stog/blog.html">Blog</a></li>
    <li class="&lt;navbar-about/&gt;"><a href="https://zoggy.github.io/stog/about.html">?</a></li>
  </ul>
  <div class="nav pull-right">  </div>
  </div>

</div>
</div>
</div>

<div id="header">
  
  
  
  <div class="page-title">Predefined modules and functions</div>
</div>




<div class="section"><div class="section-title" id="default_scheme">Default scheme</div>
<p>
As explained in <a href="https://zoggy.github.io/stog/engine.html">Evaluation and templating</a>, modules provide named functions associated
to levels, and the documents are succesively modified by these functions.
Additionaly, a function of a module can be associated to various levels.
</p>
<p>
The following modules are available by default:
<a href="https://zoggy.github.io/stog/module_base.html">Base</a>, <a href="https://zoggy.github.io/stog/module_blocks.html">Blocks</a>.
</p>
<p>Here is the list of default levels and their associated functions
defined by these modules:
</p>
<table class="table table-bordered table-condensed">
<tr><th>Level</th><th>Function(s)</th></tr>
<tr><td>  0</td><td><a href="https://zoggy.github.io/stog/module_base.html#base">base</a> (Base), <a href="https://zoggy.github.io/stog/module_blocks.html#init">init</a> (Blocks)</td></tr>
<tr><td> 30</td><td><a href="https://zoggy.github.io/stog/module_base.html#add-docs">add-docs</a> (Base)</td></tr>
<tr><td> 50</td><td><a href="https://zoggy.github.io/stog/module_base.html#toc">toc</a> (Base)</td></tr>
<tr><td> 60</td><td><a href="https://zoggy.github.io/stog/module_base.html#cut">cut</a> (Base)</td></tr>
<tr><td> 61</td><td><a href="https://zoggy.github.io/stog/module_base.html#base">base</a> (Base), <a href="https://zoggy.github.io/stog/module_blocks.html#base">base</a> (Blocks)</td></tr>
<tr><td>100</td><td><a href="https://zoggy.github.io/stog/module_blocks.html#sectionning">sectionning</a> (Blocks)</td></tr>
<tr><td>120</td><td><a href="https://zoggy.github.io/stog/module_blocks.html#gather-ids">gather-ids</a> (Blocks)</td></tr>
<tr><td>150</td><td><a href="https://zoggy.github.io/stog/module_blocks.html#doc">doc</a> (Blocks)</td></tr>
<tr><td>160</td><td><a href="https://zoggy.github.io/stog/module_base.html#inc">inc</a> (Base)</td></tr>
<tr><td>500</td><td><a href="https://zoggy.github.io/stog/module_base.html#clean">clean</a> (Base)</td></tr>
</table>
<p>For most of the rules applied by module functions, you should look
at the generated XML to modify
your CSS stylesheet according to the classes used. You can start from
the <span class="icode"><span class="hl std">.less</span></span> files in the <span class="icode"><span class="hl std">doc/less</span></span> directory
of the stog sources.
</p>
</div>

<div class="section"><div class="section-title" id="config_funs">Configuring the scheme</div>
<p>
The default scheme can be changed, using the <code>levels</code>
option in the <code>.stog/config</code> file.
This option contains a list of pairs of the following form:
</p>
<pre class="code-ocaml"><span class="hl opt">(</span><span class="hl str">&quot;module-name&quot;</span><span class="hl opt">,</span>
  <span class="hl opt">[ (</span><span class="hl str">&quot;fun1&quot;</span><span class="hl opt">, [</span> l1 <span class="hl opt">;</span> l2 <span class="hl opt">; ...]) ;</span>
    <span class="hl opt">(</span><span class="hl str">&quot;fun2&quot;</span><span class="hl opt">, [</span> l3 <span class="hl opt">;</span> l4 <span class="hl opt">; ...]) ;</span>
    <span class="hl opt">... ;</span>
  <span class="hl opt">])</span></pre>
<p>
The list is used to set the levels a function is associated to in a
given module. The default scheme could be expressed with:
</p>
<pre class="code-ocaml">levels <span class="hl opt">= [</span>
  <span class="hl opt">(</span><span class="hl str">&quot;html&quot;</span><span class="hl opt">,</span>
    <span class="hl opt">[ (</span><span class="hl str">&quot;base&quot;</span><span class="hl opt">, [</span> <span class="hl num">0</span> <span class="hl opt">;</span> <span class="hl num">61</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;add-docs&quot;</span><span class="hl opt">, [</span> <span class="hl num">30</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;toc&quot;</span><span class="hl opt">, [</span> <span class="hl num">50</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;cut&quot;</span><span class="hl opt">, [</span> <span class="hl num">60</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;inc&quot;</span><span class="hl opt">, [</span> <span class="hl num">160</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;clean&quot;</span><span class="hl opt">, [</span> <span class="hl num">500</span> <span class="hl opt">]) ;</span>
    <span class="hl opt">]) ;</span>
  <span class="hl opt">(</span><span class="hl str">&quot;blocks&quot;</span><span class="hl opt">,</span>
    <span class="hl opt">[ (</span><span class="hl str">&quot;init&quot;</span><span class="hl opt">, [</span> <span class="hl num">0</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;base&quot;</span><span class="hl opt">, [</span> <span class="hl num">61</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;sectionning&quot;</span><span class="hl opt">, [</span> <span class="hl num">100</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;gather-ids&quot;</span><span class="hl opt">, [</span> <span class="hl num">120</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;doc&quot;</span><span class="hl opt">, [</span> <span class="hl num">150</span> <span class="hl opt">]) ;</span>
    <span class="hl opt">]) ;</span>
 <span class="hl opt">]</span></pre>
<p>It is possible to change only the levels of some functions.
In the example below, the <a href="https://zoggy.github.io/stog/module_base.html#inc">inc</a> function
of module <a href="https://zoggy.github.io/stog/module_base.html">Base</a> will not be called,
(as it is associated to an empty list of levels)
and the <a href="https://zoggy.github.io/stog/module_base.html#base">base</a> function of the same module
will be associated to levels 2 and 230, while the rest of the scheme
remains unchanged:
</p>
<pre class="code-ocaml">levels <span class="hl opt">= [</span>
  <span class="hl opt">(</span><span class="hl str">&quot;html&quot;</span><span class="hl opt">,</span>
    <span class="hl opt">[ (</span><span class="hl str">&quot;base&quot;</span><span class="hl opt">, [</span> <span class="hl num">2</span> <span class="hl opt">;</span> <span class="hl num">230</span> <span class="hl opt">]) ;</span>
      <span class="hl opt">(</span><span class="hl str">&quot;inc&quot;</span><span class="hl opt">, [ ]) ;</span>
    <span class="hl opt">]) ;</span>
 <span class="hl opt">]</span></pre>
<p>
Each module can associate only one function to a given level:
for a level and a module, the last associated function hides the
previous function associated to this level, if any.
</p>
</div>


<div class="section"><div class="section-title" id="base">Common base rules</div>
<p>
Some predefined rules are applied in various functions of the
predefined modules. They are listed here.
</p>

<div class="subsection"><div class="subsection-title" id="contents">contents</div>
<p>
<span class="icode"><span class="hl kwa">&lt;contents</span><span class="hl kwa">/&gt;</span></span> is the generic function to insert some
contents in an included file or template. It may be available or not depending
on the context.
</p>
</div>

<div class="subsection"><div class="subsection-title" id="env_">env_</div>
<p>The special tag <span class="icode"><span class="hl std">env_</span></span> can be used to modify the environment
before analysing children. For example, here we add an association
between &quot;login&quot; and &quot;zoggy&quot;. This will add to the environment
an association between the key &quot;login&quot; and
the function returning the one-element list [&quot;zoggy&quot;], which is used
later in the &quot;login&quot; attribute:
</p>
<pre class="code-xml"><span class="hl kwa">&lt;env_</span><span class="hl std"> </span><span class="">login</span><span class="hl std">=</span><span class="hl str">&quot;zoggy&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
  ...
  </span><span class="hl kwa">&lt;user</span><span class="hl std"> </span><span class="">login</span><span class="hl std">=</span><span class="hl str">&quot;&amp;lt;login/&amp;gt;&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">...</span><span class="hl kwa">&lt;/user</span><span class="hl kwa">&gt;</span><span class="hl std">
  ...
</span><span class="hl kwa">&lt;/env_</span><span class="hl kwa">&gt;</span></pre>
<p>Such a function cannot be created in plugins, since functions only return
XML trees, not a new environment. But your functions can return XML trees
containing <span class="icode"><span class="hl std">env_</span></span> tags to modify the environment used to
evaluate the returned XML trees.
</p>
</div>

<div class="subsection"><div class="subsection-title" id="langswitch">langswitch</div>
<p>
If <span class="icode"><span class="hl std">stog</span></span> is launched with option <span class="icode"><span class="hl std">--lang language</span></span>, the
<span class="icode"><span class="hl kwa">&lt;langswitch</span><span class="hl kwa">&gt;</span></span> function returns some code to access
to pages in other languages than <span class="icode"><span class="hl std">language</span></span>.
</p>
</div>

</div>






<p class="alert alert-info">
For information you can see the <a href="#pagesource"> source code of the page</a>.
</p>
<div id="pagesource">
  <pre class="code-xml"><span class="hl kwa">&lt;page</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">&quot;Predefined modules and functions&quot;</span><span class="hl std">
</span><span class="">navbar-doc</span><span class="hl std">=</span><span class="hl str">&quot;active&quot;</span><span class="hl std">
</span><span class="">with-contents</span><span class="hl std">=</span><span class="hl str">&quot;true&quot;</span><span class="hl std">
</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;contents</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">&quot;default_scheme&quot;</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">&quot;Default scheme&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
As explained in </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;engine&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std">, modules provide named functions associated
to levels, and the documents are succesively modified by these functions.
Additionaly, a function of a module can be associated to various levels.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
The following modules are available by default:
</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">Base</span><span class="hl kwa">&lt;/doc</span><span class="hl kwa">&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_blocks&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">Blocks</span><span class="hl kwa">&lt;/doc</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">Here is the list of default levels and their associated functions
defined by these modules:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;table</span><span class="hl std"> </span><span class="">class</span><span class="hl std">=</span><span class="hl str">&quot;table table-bordered table-condensed&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;th</span><span class="hl kwa">&gt;</span><span class="hl std">Level</span><span class="hl kwa">&lt;/th</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;th</span><span class="hl kwa">&gt;</span><span class="hl std">Function(s)</span><span class="hl kwa">&lt;/th</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std">  0</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base#base&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Base), </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_blocks#init&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Blocks)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std"> 30</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base#add-docs&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Base)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std"> 50</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base#toc&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Base)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std"> 60</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base#cut&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Base)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std"> 61</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base#base&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Base), </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_blocks#base&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Blocks)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std">100</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_blocks#sectionning&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Blocks)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std">120</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_blocks#gather-ids&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Blocks)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std">150</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_blocks#doc&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Blocks)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std">160</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base#inc&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Base)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;tr</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl std">500</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base#clean&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> (Base)</span><span class="hl kwa">&lt;/td</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/tr</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/table</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">For most of the rules applied by module functions, you should look
at the generated XML to modify
your CSS stylesheet according to the classes used. You can start from
the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">.less</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> files in the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">doc/less</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> directory
of the stog sources.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">&quot;config_funs&quot;</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">&quot;Configuring the scheme&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
The default scheme can be changed, using the </span><span class="hl kwa">&lt;code</span><span class="hl kwa">&gt;</span><span class="hl std">levels</span><span class="hl kwa">&lt;/code</span><span class="hl kwa">&gt;</span><span class="hl std">
option in the </span><span class="hl kwa">&lt;code</span><span class="hl kwa">&gt;</span><span class="hl std">.stog/config</span><span class="hl kwa">&lt;/code</span><span class="hl kwa">&gt;</span><span class="hl std"> file.
This option contains a list of pairs of the following form:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;ocaml</span><span class="hl kwa">&gt;</span><span class="hl std">(&quot;module-name&quot;,
  [ (&quot;fun1&quot;, [ l1 ; l2 ; ...]) ;
    (&quot;fun2&quot;, [ l3 ; l4 ; ...]) ;
    ... ;
  ])</span><span class="hl kwa">&lt;/ocaml</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
The list is used to set the levels a function is associated to in a
given module. The default scheme could be expressed with:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;ocaml</span><span class="hl kwa">&gt;</span><span class="hl std">levels = [
  (&quot;html&quot;,
    [ (&quot;base&quot;, [ 0 ; 61 ]) ;
      (&quot;add-docs&quot;, [ 30 ]) ;
      (&quot;toc&quot;, [ 50 ]) ;
      (&quot;cut&quot;, [ 60 ]) ;
      (&quot;inc&quot;, [ 160 ]) ;
      (&quot;clean&quot;, [ 500 ]) ;
    ]) ;
  (&quot;blocks&quot;,
    [ (&quot;init&quot;, [ 0 ]) ;
      (&quot;base&quot;, [ 61 ]) ;
      (&quot;sectionning&quot;, [ 100 ]) ;
      (&quot;gather-ids&quot;, [ 120 ]) ;
      (&quot;doc&quot;, [ 150 ]) ;
    ]) ;
 ]
</span><span class="hl kwa">&lt;/ocaml</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">It is possible to change only the levels of some functions.
In the example below, the </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base#inc&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> function
of module </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">Base</span><span class="hl kwa">&lt;/doc</span><span class="hl kwa">&gt;</span><span class="hl std"> will not be called,
(as it is associated to an empty list of levels)
and the </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;module_base#base&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std"> function of the same module
will be associated to levels 2 and 230, while the rest of the scheme
remains unchanged:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;ocaml</span><span class="hl kwa">&gt;</span><span class="hl std">
levels = [
  (&quot;html&quot;,
    [ (&quot;base&quot;, [ 2 ; 230 ]) ;
      (&quot;inc&quot;, [ ]) ;
    ]) ;
 ]
</span><span class="hl kwa">&lt;/ocaml</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
Each module can associate only one function to a given level:
for a level and a module, the last associated function hides the
previous function associated to this level, if any.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">


</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">&quot;base&quot;</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">&quot;Common base rules&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
Some predefined rules are applied in various functions of the
predefined modules. They are listed here.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;subsection</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">&quot;contents&quot;</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">&quot;contents&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;icode</span><span class="hl std"> </span><span class="">lang</span><span class="hl std">=</span><span class="hl str">&quot;xml&quot;</span><span class="hl kwa">&gt;</span><span class="hl kwb">&amp;lt;</span><span class="hl std">contents/</span><span class="hl kwb">&amp;gt;</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> is the generic function to insert some
contents in an included file or template. It may be available or not depending
on the context.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/subsection</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;subsection</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">&quot;env_&quot;</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">&quot;env_&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">The special tag </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">env_</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> can be used to modify the environment
before analysing children. For example, here we add an association
between &quot;login&quot; and &quot;zoggy&quot;. This will add to the environment
an association between the key &quot;login&quot; and
the function returning the one-element list [&quot;zoggy&quot;], which is used
later in the &quot;login&quot; attribute:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;hcode</span><span class="hl std"> </span><span class="">lang</span><span class="hl std">=</span><span class="hl str">&quot;xml&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">&lt;![CDATA[</span><span class="hl kwa">&lt;env_</span><span class="hl std"> </span><span class="">login</span><span class="hl std">=</span><span class="hl str">&quot;zoggy&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
  ...
  </span><span class="hl kwa">&lt;user</span><span class="hl std"> </span><span class="">login</span><span class="hl std">=</span><span class="hl str">&quot;&amp;lt;login/&amp;gt;&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">...</span><span class="hl kwa">&lt;/user</span><span class="hl kwa">&gt;</span><span class="hl std">
  ...
</span><span class="hl kwa">&lt;/env_</span><span class="hl kwa">&gt;</span><span class="hl std">]]&gt;</span><span class="hl kwa">&lt;/hcode</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">Such a function cannot be created in plugins, since functions only return
XML trees, not a new environment. But your functions can return XML trees
containing </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">env_</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> tags to modify the environment used to
evaluate the returned XML trees.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/subsection</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;subsection</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">&quot;langswitch&quot;</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">&quot;langswitch&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
If </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">stog</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> is launched with option </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--lang language</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">, the
</span><span class="hl kwa">&lt;icode</span><span class="hl std"> </span><span class="">lang</span><span class="hl std">=</span><span class="hl str">&quot;xml&quot;</span><span class="hl kwa">&gt;</span><span class="hl kwb">&amp;lt;</span><span class="hl std">langswitch</span><span class="hl kwb">&amp;gt;</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> function returns some code to access
to pages in other languages than </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">language</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/subsection</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;/contents</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/page</span><span class="hl kwa">&gt;</span></pre>
</div>


<div id="footer">
<div class="generatedon">Generated on October 3, 2014 at 7h35</div>
</div>



</div> 
</body>
</html>