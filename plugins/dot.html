<!DOCTYPE HTML>
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Stog : Stog-dot</title>
<link href="https://zoggy.github.io/stog/style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="page">
<div class="navbar navbar-fixed-top">
<div class="navbar-inner">
<div class="container">


  <div class="nav-collapse">
    <ul class="nav">
    <li class="&lt;navbar-home/&gt;"><a href="https://zoggy.github.io/stog/index.html">Stog</a></li>
    <li class="&lt;navbar-install/&gt;"><a href="https://zoggy.github.io/stog/install.html">Installation</a></li>
    <li class="&lt;navbar-doc/&gt;"><a href="https://zoggy.github.io/stog/doc.html">Documentation</a></li>
    <li class="active"><a href="https://zoggy.github.io/stog/plugins.html">Plugins</a></li>
    <li class="&lt;navbar-blog/&gt;"><a href="https://zoggy.github.io/stog/blog.html">Blog</a></li>
    <li class="&lt;navbar-about/&gt;"><a href="https://zoggy.github.io/stog/about.html">?</a></li>
  </ul>
  <div class="nav pull-right">  </div>
  </div>

</div>
</div>
</div>

<div id="header">
  
  <a href="https://zoggy.github.io/stog/plugins.html">Plugins</a>
  
  <div class="page-title">Stog-dot</div>
</div>




<p>
This plugin eases the inclusion of Graphs using the
<span class="ext-a"><a href="http://graphviz.org">Graphiz</a></span> tools (dot, ...).
</p>
<p class="alert alert-warning">
The Graphviz tools must be installed to use this plugin.
</p>

<p>Usage:</p>
<pre class="code-sh">$ stog <span class="hl opt">--</span>package stog.dot ...</pre>

<p>This plugin adds a new <a href="https://zoggy.github.io/stog/module_base.html#base">base rule</a>
 <span class="icode"><span class="hl kwa">&lt;dot</span><span class="hl kwa">&gt;</span></span>.
Here are the possible ways to use it:
</p>
<table class="table table-bordered">
<tr><th>Code</th><th>Result</th></tr>
<tr>
<td>
Output to <code>graph1.svg</code>, using an <span class="icode"><span class="hl kwa">&lt;img</span><span class="hl kwa">&gt;</span></span>
node to show the image:
<div class="hide" id="code1">
&lt;dot outfile=&quot;graph1.svg&quot;&gt;digraph g {
  rankdir = LR;
  a [ shape=&quot;box&quot; ] ;
  a -&gt; b; a -&gt; c ; b -&gt; c ;
}&lt;/dot&gt;
</div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">outfile</span><span class="hl std">=</span><span class="hl str">&quot;graph1.svg&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">digraph g {
  rankdir = LR;
  a [ shape=&quot;box&quot; ] ;
  a -&gt; b; a -&gt; c ; b -&gt; c ;
}</span><span class="hl kwa">&lt;/dot</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre></td>
<td>
<img src="graph1.svg"/>
</td>
</tr>

<tr>
<td>
Output a <code>png</code> file to <code>graph2.png</code>,
use <code>neato</code> instead of <code>dot</code> in
the command and read source from <code>graph.dot</code>:
<div class="hide" id="code2">
&lt;dot command=&quot;neato&quot;
   src=&quot;graph.dot&quot; type=&quot;png&quot; outfile=&quot;graph2.png&quot;/&gt;
</div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">command</span><span class="hl std">=</span><span class="hl str">&quot;neato&quot;</span><span class="hl std">
   </span><span class="">src</span><span class="hl std">=</span><span class="hl str">&quot;graph.dot&quot;</span><span class="hl std"> </span><span class="">type</span><span class="hl std">=</span><span class="hl str">&quot;png&quot;</span><span class="hl std"> </span><span class="">outfile</span><span class="hl std">=</span><span class="hl str">&quot;graph2.png&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std">
</span></pre>
With <code>graph.dot</code>:
<pre class="code-dot"><span class="hl kwa">graph</span> g {
  a <span class="hl opt">--</span> b <span class="hl opt">;</span>
  a <span class="hl opt">--</span> c <span class="hl opt">;</span>
  a <span class="hl opt">--</span> d <span class="hl opt">;</span>
}</pre></td>
<td>
<img command="neato" src="graph2.png"/>
</td>
</tr>

<tr>
<td>
With <span class="icode"><span class="hl kwa">&lt;doc-</span><span class="hl std">...</span><span class="hl kwa">&gt;</span></span> rules to get links and labels,
using attribute <span class="icode"><span class="hl std">defer_=&quot;1&quot;</span></span> in the <span class="icode"><span class="hl kwa">&lt;dot</span><span class="hl kwa">&gt;</span></span>
so that rewriting is performed in its children before the
code is being passed to dot:
<div class="hide" id="code3">
&lt;dot defer_=&quot;1&quot;&gt;
digraph g {
  rankdir = LR;
  plugins -&gt; asy ;
  plugins -&gt; dot ;
  plugins [ href=&quot;&lt;doc-url doc-path=&quot;plugins&quot;/&gt;&quot; ]
  asy [
     href=&quot;&lt;doc-url doc-path=&quot;plugins/asy&quot;/&gt;&quot;,
     label=&quot;&lt;doc-title doc-path=&quot;plugins/asy&quot;/&gt;&quot; ] ;
  dot [ href=&quot;&lt;doc-url doc-path=&quot;plugins/dot&quot;/&gt;&quot; ] ;
}&lt;/dot&gt;
</div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">defer_</span><span class="hl std">=</span><span class="hl str">&quot;1&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
digraph g {
  rankdir = LR;
  plugins -&gt; asy ;
  plugins -&gt; dot ;
  plugins [ href=&quot;</span><span class="hl kwa">&lt;doc-url</span><span class="hl std"> </span><span class="">doc-path</span><span class="hl std">=</span><span class="hl str">&quot;plugins&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std">&quot; ]
  asy [
     href=&quot;</span><span class="hl kwa">&lt;doc-url</span><span class="hl std"> </span><span class="">doc-path</span><span class="hl std">=</span><span class="hl str">&quot;plugins/asy&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std">&quot;,
     label=&quot;</span><span class="hl kwa">&lt;doc-title</span><span class="hl std"> </span><span class="">doc-path</span><span class="hl std">=</span><span class="hl str">&quot;plugins/asy&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std">&quot; ] ;
  dot [ href=&quot;</span><span class="hl kwa">&lt;doc-url</span><span class="hl std"> </span><span class="">doc-path</span><span class="hl std">=</span><span class="hl str">&quot;plugins/dot&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std">&quot; ] ;
}</span><span class="hl kwa">&lt;/dot</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
Since no <code>outfile</code> attribute is given, the <code>svg</code>
file produced is included (no use of <span class="icode"><span class="hl kwa">&lt;img</span><span class="hl kwa">&gt;</span></span>).
</td>
<td>The node labels are clickable and the links are generated
(and so valid) by Stog:

<svg height="98pt" viewBox="0.00 0.00 202.00 98.00" width="202pt" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
<g class="graph" id="graph0" transform="scale(1 1) rotate(0) translate(4 94)">
<title>g</title>
<polygon fill="white" points="-4,4 -4,-94 198,-94 198,4 -4,4" stroke="none"/>

<g class="node" id="node1"><title>plugins</title>
<g id="a_node1"><a xlink:href="https://zoggy.github.io/stog/plugins.html" xlink:title="plugins">
<ellipse cx="37" cy="-45" fill="none" rx="36.2938" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="37" y="-41.3">plugins</text>
</a>
</g>
</g>

<g class="node" id="node2"><title>asy</title>
<g id="a_node2"><a xlink:href="https://zoggy.github.io/stog/plugins/asy.html" xlink:title="Stog-asy">
<ellipse cx="152" cy="-72" fill="none" rx="41.6928" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="152" y="-68.3">Stog-asy</text>
</a>
</g>
</g>

<g class="edge" id="edge1"><title>plugins-&gt;asy</title>
<path d="M70.079,-52.6649C81.0899,-55.2958 93.633,-58.2928 105.502,-61.1289" fill="none" stroke="black"/>
<polygon fill="black" points="104.726,-64.5418 115.265,-63.4617 106.353,-57.7335 104.726,-64.5418" stroke="black"/>
</g>

<g class="node" id="node3"><title>dot</title>
<g id="a_node3"><a xlink:href="https://zoggy.github.io/stog/plugins/dot.html" xlink:title="dot">
<ellipse cx="152" cy="-18" fill="none" rx="27" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="152" y="-14.3">dot</text>
</a>
</g>
</g>

<g class="edge" id="edge2"><title>plugins-&gt;dot</title>
<path d="M70.079,-37.3351C84.6052,-33.8642 101.798,-29.7562 116.593,-26.2213" fill="none" stroke="black"/>
<polygon fill="black" points="117.476,-29.6087 126.389,-23.8804 115.85,-22.8003 117.476,-29.6087" stroke="black"/>
</g>
</g>
</svg>
</td>
</tr>

<tr>
<td>
Including again the produced <code>svg</code> file. To avoid
conflicts in ids, we use the <span class="icode"><span class="hl std">prefix-svg-ids=&quot;foo&quot;</span></span>
attribute:
<div class="hide" id="code4">
&lt;dot prefix-svg-ids=&quot;foo&quot;&gt;digraph g {
  rankdir = LR;
  a [ shape=&quot;box&quot; ] ;
  a -&gt; b; a -&gt; c ; b -&gt; c ;
}&lt;/dot&gt;</div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">prefix-svg-ids</span><span class="hl std">=</span><span class="hl str">&quot;foo&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">digraph g {
  rankdir = LR;
  a [ shape=&quot;box&quot; ] ;
  a -&gt; b; a -&gt; c ; b -&gt; c ;
}</span><span class="hl kwa">&lt;/dot</span><span class="hl kwa">&gt;</span></pre></td>
<td>
<svg height="67pt" viewBox="0.00 0.00 242.00 67.00" width="242pt" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
<g class="graph" id="foograph0" transform="scale(1 1) rotate(0) translate(4 63)">
<title>g</title>
<polygon fill="white" points="-4,4 -4,-63 238,-63 238,4 -4,4" stroke="none"/>

<g class="node" id="foonode1"><title>a</title>
<polygon fill="none" points="54,-36 0,-36 0,-0 54,-0 54,-36" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="27" y="-14.3">a</text>
</g>

<g class="node" id="foonode2"><title>b</title>
<ellipse cx="117" cy="-41" fill="none" rx="27" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="117" y="-37.3">b</text>
</g>

<g class="edge" id="fooedge1"><title>a-&gt;b</title>
<path d="M54.4029,-24.9008C63.0103,-27.1504 72.6933,-29.6812 81.7885,-32.0584" fill="none" stroke="black"/>
<polygon fill="black" points="81.1588,-35.5113 91.7188,-34.6538 82.9289,-28.7388 81.1588,-35.5113" stroke="black"/>
</g>

<g class="node" id="foonode3"><title>c</title>
<ellipse cx="207" cy="-18" fill="none" rx="27" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="207" y="-14.3">c</text>
</g>

<g class="edge" id="fooedge2"><title>a-&gt;c</title>
<path d="M54.2278,-15.9325C65.2648,-15.16 78.2491,-14.3787 90,-14 113.988,-13.227 120.012,-13.227 144,-14 152.431,-14.2717 161.496,-14.7506 170.022,-15.2849" fill="none" stroke="black"/>
<polygon fill="black" points="169.865,-18.7821 180.075,-15.9538 170.33,-11.7975 169.865,-18.7821" stroke="black"/>
</g>

<g class="edge" id="fooedge3"><title>b-&gt;c</title>
<path d="M142.513,-34.5932C151.572,-32.2256 162.012,-29.497 171.775,-26.9452" fill="none" stroke="black"/>
<polygon fill="black" points="172.829,-30.2874 181.619,-24.3724 171.058,-23.5149 172.829,-30.2874" stroke="black"/>
</g>
</g>
</svg></td>
</tr>

<tr>
<td>The contents of the <code>args</code> attribute is used
as additional argument to the command which is run:
<div class="hide" id="code5">

&lt;dot prefix-svg-ids=&quot;bar&quot; args=&quot;-Nshape=box&quot;&gt;
digraph g {
  rankdir = LR;
  a -&gt; b; a -&gt; c ; b -&gt; c ;
}&lt;/dot&gt;
</div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">prefix-svg-ids</span><span class="hl std">=</span><span class="hl str">&quot;bar&quot;</span><span class="hl std"> </span><span class="">args</span><span class="hl std">=</span><span class="hl str">&quot;-Nshape=box&quot;</span><span class="hl kwa">&gt;</span><span class="hl std">
digraph g {
  rankdir = LR;
  a -&gt; b; a -&gt; c ; b -&gt; c ;
}</span><span class="hl kwa">&lt;/dot</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre></td>
<td>

<svg height="67pt" viewBox="0.00 0.00 242.00 67.00" width="242pt" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
<g class="graph" id="bargraph0" transform="scale(1 1) rotate(0) translate(4 63)">
<title>g</title>
<polygon fill="white" points="-4,4 -4,-63 238,-63 238,4 -4,4" stroke="none"/>

<g class="node" id="barnode1"><title>a</title>
<polygon fill="none" points="54,-36 0,-36 0,-0 54,-0 54,-36" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="27" y="-14.3">a</text>
</g>

<g class="node" id="barnode2"><title>b</title>
<polygon fill="none" points="144,-59 90,-59 90,-23 144,-23 144,-59" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="117" y="-37.3">b</text>
</g>

<g class="edge" id="baredge1"><title>a-&gt;b</title>
<path d="M54.4029,-24.9008C62.481,-27.0121 71.5067,-29.3711 80.1046,-31.6182" fill="none" stroke="black"/>
<polygon fill="black" points="79.3589,-35.0409 89.919,-34.1834 81.1291,-28.2684 79.3589,-35.0409" stroke="black"/>
</g>

<g class="node" id="barnode3"><title>c</title>
<polygon fill="none" points="234,-36 180,-36 180,-0 234,-0 234,-36" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="207" y="-14.3">c</text>
</g>

<g class="edge" id="baredge2"><title>a-&gt;c</title>
<path d="M54.2278,-15.9325C65.2648,-15.16 78.2491,-14.3787 90,-14 113.988,-13.227 120.012,-13.227 144,-14 152.354,-14.2692 161.332,-14.742 169.79,-15.2703" fill="none" stroke="black"/>
<polygon fill="black" points="169.562,-18.7629 179.772,-15.9325 170.026,-11.7782 169.562,-18.7629" stroke="black"/>
</g>

<g class="edge" id="baredge3"><title>b-&gt;c</title>
<path d="M144.403,-34.0992C152.481,-31.9879 161.507,-29.6289 170.105,-27.3818" fill="none" stroke="black"/>
<polygon fill="black" points="171.129,-30.7316 179.919,-24.8166 169.359,-23.9591 171.129,-30.7316" stroke="black"/>
</g>
</g>
</svg>
</td>
</tr>

</table>






<div id="footer">
<div class="generatedon">Generated on October 27, 2014 at 15h14</div>
</div>



</div> 
</body>
</html>
